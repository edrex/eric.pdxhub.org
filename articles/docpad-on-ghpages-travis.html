<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta http-equiv="CACHE-CONTROL" content="NO-CACHE"><title>Automatic Site Rebuilds with Travis CI</title><meta name="viewport" content="width=device-width"><link rel="shortcut icon" href="/assets/favicon.ico"><link rel="stylesheet" href="/assets/styles/normalize.css"><link rel="stylesheet" href="/assets/styles/markdown.css"><link rel="stylesheet" href="/assets/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="/assets/styles/style.css"><link rel="stylesheet" href="/assets/styles/highlight_solarized_dark.css"><meta name="google-site-verification" content="jdNxQ0D7Pu5Zp7em_fWgy3CMhDdvHL9R5aRt8HuL8KY"><script>var gaProperty = 'UA-342641-5';
if (document.cookie.indexOf("analytics-opt-out" + '=true') == -1) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', gaProperty, 'pdxhub.org');
    ga('require', 'displayfeatures');
    ga('send', 'pageview');
}</script></head><body><div class="container"><div class="header"><a href="/" title="Back to Eric's homepage"><img src="/assets/avatar.jpeg" class="avatar"></a><h1 class="title"><span class="brand"><i class="fa fa-cogs "></i> Automatic Site Rebuilds with Travis CI </span></h1><h3 class="subheading">Continuous integration for artifact generation</h3><div class="gather"><span data-raw="2013-10-08" class="date">Oct 7, 2013</span> <a href="/things" class="tag label label-default"><i class="fa fa-gift "></i> things</a><a href="/tags#github" class="tag label label-default"><i class="fa fa-tag "></i> github</a><a href="/tags#docpad" class="tag label label-default"><i class="fa fa-tag "></i> docpad</a><a href="/tags#travis" class="tag label label-default"><i class="fa fa-tag "></i> travis</a></div></div><div class="cols"><div class="maincol"><div class="main"><h2>Background</h2><h4>Conclusions after creating a few sites with Github Pages&#39; stock Jekyll compiler <a href="#" rel="tooltip" data-placement="bottom" class="fa fa-asterisk" title="As distinct from Jekyll itself, which can be extended by plugins."></a></h4><ol>
<li><em>Automatically recompiles are darn convenient.</em></li>
<li><em>Constraints can be liberating</em>. <strong>However</strong>,</li>
<li><em>My clientside projects often hit Jekyll&#39;s <a href="/2013/09/15/liquid-limitations/">limits</a>.</em></li>
</ol>
<p>Jekyll does 3 things when processing a file:</p>
<ol>
<li>Extract metadata from the file&#39;s YAML header.</li>
<li>If the file is markdown, transform it into HTML</li>
<li>Apply the layout specified in the YAML (recursively).</li>
<li>Evaluate any Liquid template directives.</li>
</ol>
<p>Support for additional preprocessor languages, such as HAML, SCSS, and Coffeescript, can be added using plugins - but these aren&#39;t available with Github Pages&#39; Jekyll.</p>
<p>I&#39;ve been <a href="/2013/07/11/static-site-gen-research-and-experiments/">looking at alternatives</a>.</p>
<p>The big barrier to moving away from Jekyll is the need to replace the automatic recompiles provided by Github Pages.</p>
<p>that I will have to take care of building the site and pushing the build back to <a href="https://help.github.com/articles/user-organization-and-project-pages">ghpages</a> myself. There are two ways to do this: </p>
<ul>
<li>manually, from my local development environment</li>
<li>automatically whenever there are changes, by using Github&#39;s <a href="http://developer.github.com/v3/repos/hooks/">repo hooks</a> to kick off an external build process, which would pull the changes, run the build, and then commit + push the output.</li>
</ul>
<p>This article is about using Travis CI to implement the second option. Specifically, I&#39;m going to be building a site using Docpad.</p>
<h2>Walkthrough</h2><p>Create a new project, using one of the Docpad skeletons. I used the HTML5 Boilerplate one.</p>
<p>Get it building locally, and then push it to a new Github repo.</p>
<p>Setup Github pages on the repo, then update it from your local copy and verify that it is working.</p>
<p>Enable Travis CI for the repo. This won&#39;t do anything until you add a .travis.yml file to the repo.</p>
<h2>References</h2><ul>
<li><a href="http://docpad.org/docs/skeletons">http://docpad.org/docs/skeletons</a></li>
<li><a href="https://github.com/edrex/by-the-numbers">https://github.com/edrex/by-the-numbers</a></li>
<li><a href="http://awestruct.org/auto-deploy-to-github-pages/">http://awestruct.org/auto-deploy-to-github-pages/</a></li>
<li><a href="https://gist.github.com/bewest/6100033">https://gist.github.com/bewest/6100033</a></li>
</ul></div></div><div class="sidebar"></div></div><div class="footer"></div></div><script src="/assets/scripts/jquery.min.js"></script><script src="/assets/scripts/lodash.min.js"></script><script src="/assets/scripts/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad()</script><script src="/assets/scripts/toggle-grid.js"></script></body></html>