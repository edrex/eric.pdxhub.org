<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta http-equiv="CACHE-CONTROL" content="NO-CACHE"><title>Couchapps Revisited</title><meta name="viewport" content="width=device-width"><link rel="shortcut icon" href="/assets/favicon.ico"><link rel="stylesheet" href="/assets/styles/normalize.css"><link rel="stylesheet" href="/assets/styles/markdown.css"><link rel="stylesheet" href="/assets/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="/assets/styles/style.css"><link rel="stylesheet" href="/assets/styles/highlight_solarized_dark.css"><meta name="google-site-verification" content="jdNxQ0D7Pu5Zp7em_fWgy3CMhDdvHL9R5aRt8HuL8KY"><script>var gaProperty = 'UA-342641-5';
if (document.cookie.indexOf("analytics-opt-out" + '=true') == -1) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', gaProperty, 'pdxhub.org');
    ga('require', 'displayfeatures');
    ga('send', 'pageview');
}</script></head><body><div class="container"><div class="header"><a href="/" title="Back to Eric's homepage" class="index">‚óÄÔ∏é<i class="fa fa-coffee "></i></a> <h1 class="title"><span class="brand"> Couchapps Revisited </span></h1><div class="gather"></div></div><div class="cols"><div class="maincol"><div class="main"><h2>Sun Jan 5</h2><ul>
<li>Learning Grunt, by reorganizing <a href="https://github.com/yearofmoo/angularjs-seed-repo">https://github.com/yearofmoo/angularjs-seed-repo</a> gruntfile</li>
<li>Looking at how brunch might fit in with build tooling.<ul>
<li>Benefits:<ul>
<li>Sourcemaps support.</li>
</ul>
</li>
<li>How:<ul>
<li>Use node-concurrent.</li>
</ul>
</li>
<li>Verdict: feasible, but wait for now.</li>
</ul>
</li>
</ul>
<h3>Couchapp proxy</h3><p>Seems like it would be super easy to add a fall-through proxy for dev/testing without sending attachments to couchdb on every edit, using <a href="https://npmjs.org/package/grunt-connect-proxy">https://npmjs.org/package/grunt-connect-proxy</a></p>
<h2>Fri Jan 3 2013</h2><ul>
<li>Tests first</li>
<li>Can I assign ID on server side based on content?<ul>
<li>if yes, set on save</li>
<li>if not, set in client and validate on server</li>
</ul>
</li>
<li>How is validation of author info normally handled?</li>
</ul>
<p>i prob need to switch to js couchapp</p>
<ul>
<li><a href="https://github.com/garbados/grunt-couchapp">https://github.com/garbados/grunt-couchapp</a></li>
<li><a href="https://github.com/jo/grunt-couch">https://github.com/jo/grunt-couch</a></li>
</ul>
<h2>Prior</h2><p>These are the notes for an article on tooling that I will publish after Pillowfork launches.</p>
<p>Too much boilerplate making this web app. Express, mongoose, mocha, angular, karma. So much files!</p>
<p><a href="http://edtechdev.wordpress.com/2013/05/10/serverless-unhosted-nobackend/">http://edtechdev.wordpress.com/2013/05/10/serverless-unhosted-nobackend/</a></p>
<p>Was looking around at more container-ey tooling. Meteor, Firebase, Deployd. Somehow stumbled on PouchDB. Oo, it has come along. Still active!</p>
<h2>Next</h2><ul>
<li>T: angular + pouchdb</li>
<li>underscore</li>
<li>T: better workflow for couchapps. look at:<ul>
<li>couchapp js</li>
<li>grunt couchapp plugin</li>
</ul>
</li>
<li>Work on Pillowfork first sprint</li>
</ul>
<h2>Icebox</h2><ul>
<li>How to test server?</li>
<li>How to test client? </li>
<li>Test pouchapp syncing with intermittant connectivity</li>
</ul>
<h2>Done</h2><ul>
<li>How to limit view by key?<ul>
<li>Works. Submitted doc patch.</li>
</ul>
</li>
<li>How does pouchapp syncing work? <ul>
<li>Very well! Flexible local vs remote</li>
<li>Haven&#39;t tested with intermittant connectivity yet</li>
</ul>
</li>
<li>T: Couchapp with pouchdb</li>
<li>Social signin?<ul>
<li>Yes, via BrowserID plugin</li>
<li>Also for FB/Tw via XO_Auth plugin (untested)<ul>
<li>seems broken on Iris. FB times out, Twitter config is read only</li>
</ul>
</li>
</ul>
</li>
<li>what IDPs have &quot;identity bridge&quot; support?<ul>
<li>yahoo</li>
<li>gmail</li>
</ul>
</li>
<li>create a minimal couchapp and push it.</li>
<li>test browserid support. this should work.</li>
<li>build local couchdb with the browserid<ul>
<li>brew install couchdb</li>
<li>install plugin (hints below), rebar compile</li>
<li>How does CRUD authorization work?</li>
<li><a href="http://wiki.apache.org/couchdb/Document_Update_Validation">Validate doc and user on CUD</a></li>
<li><a href="http://mail-archives.apache.org/mod_mbox/couchdb-dev/201010.mbox/%3CC4B01815-5A28-4E5F-975D-70344B7570EC@apache.org%3E">No restriction on R</a></li>
<li>Ok for always-public apps</li>
</ul>
</li>
</ul>
<h2>Social authn</h2><p><a href="http://mail-archives.apache.org/mod_mbox/couchdb-user/201203.mbox/%3CCADR1q3AU7aTn08rkJpmgjs0qK1BK5QjDkPxDfe0-JH2xBMaeYQ@mail.gmail.com%3E">In IrisCouch</a>
<a href="https://github.com/ocastalabs/CouchDB-XO_Auth">ocastalabs/CouchDB-XO_Auth</a></p>
<p><a href="https://getsatisfaction.com/iriscouch/topics/ocasta_labs_facebook_authentication">https://getsatisfaction.com/iriscouch/topics/ocasta_labs_facebook_authentication</a></p>
<p>Old <a href="http://stackoverflow.com/questions/8342140/couchapp-user-registration">http://stackoverflow.com/questions/8342140/couchapp-user-registration</a></p>
<h2>Authz</h2><p><a href="http://wiki.apache.org/couchdb/Link_Collection_Authentication_and_Authorization">http://wiki.apache.org/couchdb/Link_Collection_Authentication_and_Authorization</a></p>
<h2>Prior art</h2><p><a href="http://brunch-colors.com/">http://brunch-colors.com/</a>
<a href="http://jsfiddle.net/acasquete/zCd7h/light/">http://jsfiddle.net/acasquete/zCd7h/light/</a></p>
<p><a href="https://www.facebook.com/dialog/oauth?client_id=581198038617534&amp;scope=user_about_me&amp;redirect_uri=http:%2F%2Feric.iriscouch.com%2F_fb">https://www.facebook.com/dialog/oauth?client_id=581198038617534&amp;scope=user_about_me&amp;redirect_uri=http:%2F%2Feric.iriscouch.com%2F_fb</a>
<a href="https://www.facebook.com/dialog/oauth?client_id=404459419582757&amp;scope=user_about_me&amp;redirect_uri=http:%2F%2Fcat.proven-corporation.com:5984%2F_fb">https://www.facebook.com/dialog/oauth?client_id=404459419582757&amp;scope=user_about_me&amp;redirect_uri=http:%2F%2Fcat.proven-corporation.com:5984%2F_fb</a></p>
<h2>Plugins</h2><p><a href="https://github.com/iriscouch/browserid_couchdb">https://github.com/iriscouch/browserid_couchdb</a>
<a href="https://github.com/elasticsearch/elasticsearch-river-couchdb">https://github.com/elasticsearch/elasticsearch-river-couchdb</a>
<a href="https://github.com/ocastalabs/CouchDB-XO_Auth/blob/master/Makefile">https://github.com/ocastalabs/CouchDB-XO_Auth/blob/master/Makefile</a></p>
<h2>brew install couchdb</h2><pre><code>To have launchd start couchdb at login:
    ln -sfv /usr/local/opt/couchdb/*.plist ~/Library/LaunchAgents
Then to load couchdb now:
    launchctl load ~/Library/LaunchAgents/homebrew.mxcl.couchdb.plist
Or, if you don&#39;t want/need launchctl, you can just run:
    couchdb
üç∫  /usr/local/Cellar/couchdb/1.5.0: 627 files, 14M, built in 109 seconds
</code></pre><p>Local couch:</p>
<ul>
<li>Install couch (brew install, or via packages on Ubuntu)</li>
<li></li>
</ul></div></div><div class="sidebar"></div></div><div class="footer"></div></div><script src="/assets/scripts/jquery.min.js"></script><script src="/assets/scripts/lodash.min.js"></script><script src="/assets/scripts/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad()</script><script src="/assets/scripts/toggle-grid.js"></script></body></html>